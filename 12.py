print((lambda l,d:[abs(i.imag)+abs(i.real)for i in[(lambda f,*a:f(f,*a))(lambda o,i,z,c,w:z if i==len(l)else o(o,i+1,z+c*l[i][1],c,w)if'F'in l[i]else o(o,i+1,z,c*1j**(l[i][1]//90*(1if'R'in l[i]else-1)),w)if l[i][0]in'LR'else o(o,i+1,z,c+d[l[i][0]]*l[i][1],w)if w else o(o,i+1,z+d[l[i][0]]*l[i][1],c,w),0,0,*j)for j in([1,0],[10-1j,1])]])([[i[0],int(i[1:])]for i in open('input.txt')],{'N':-1j,'S':1j,'E':1,'W':-1}))